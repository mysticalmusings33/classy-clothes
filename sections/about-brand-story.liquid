<!-- 
  Save as: /sections/about-brand-story.liquid
  Brand story with optional image (side by side layout)
-->

<style>
  /* ==================== BRAND STORY ==================== */
  
  .brand-story {
    padding: var(--spacing-xl) 0;
    background: var(--color-white);
  }
  
  .brand-story-layout {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--spacing-xl);
    align-items: center;
  }
  
  /* Image side */
  .brand-story-image-wrapper {
    position: relative;
    padding-bottom: 125%;
    overflow: hidden;
    background: var(--color-light-gray);
  }
  
  .brand-story-image {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
  
  /* Content side */
  .brand-story-content h2 {
    font-size: 2.5rem;
    margin-bottom: var(--spacing-md);
  }
  
  .brand-story-content p {
    font-size: 1.125rem;
    line-height: 1.8;
    color: #666;
    margin-bottom: var(--spacing-md);
  }
  
  /* Reverse layout option */
  .brand-story-layout.reverse {
    direction: rtl;
  }
  
  .brand-story-layout.reverse > * {
    direction: ltr;
  }
  
  /* ==================== RESPONSIVE ==================== */
  
  @media (max-width: 1024px) {
    .brand-story-layout {
      grid-template-columns: 1fr;
      gap: var(--spacing-lg);
    }
    
    .brand-story-layout.reverse {
      direction: ltr;
    }
    
    .brand-story-content h2 {
      font-size: 2rem;
    }
  }
  
  @media (max-width: 768px) {
    .brand-story-content h2 {
      font-size: 1.75rem;
    }
    
    .brand-story-content p {
      font-size: 1rem;
    }
  }
</style>

<!-- ==================== BRAND STORY HTML ==================== -->
<section class="brand-story">
  <div class="container">
    <div class="brand-story-layout {% if section.settings.image_position == 'right' %}reverse{% endif %}">
      
      <!-- Image -->
      {% if section.settings.image %}
        <div class="brand-story-image-wrapper">
          <img src="{{ section.settings.image | img_url: '800x' }}" 
               alt="{{ section.settings.heading }}"
               class="brand-story-image"
               loading="lazy">
        </div>
      {% endif %}
      
      <!-- Content -->
      <div class="brand-story-content">
        {% if section.settings.heading != blank %}
          <h2>{{ section.settings.heading }}</h2>
        {% endif %}
        
        {% if section.settings.text != blank %}
          <div class="rte">
            {{ section.settings.text }}
          </div>
        {% endif %}
      </div>
      
    </div>
  </div>
</section>

<!-- ==================== SCHEMA ==================== -->
{% schema %}
{
  "name": "Brand Story",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Our Story"
    },
    {
      "type": "richtext",
      "id": "text",
      "label": "Text",
      "default": "<p>Share your brand's story and values here. What makes you unique? What drives your passion?</p>"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Image",
      "info": "Recommended size: 800x1000px"
    },
    {
      "type": "select",
      "id": "image_position",
      "label": "Image Position",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "left"
    }
  ],
  "presets": [
    {
      "name": "Brand Story"
    }
  ]
}
{% endschema %}